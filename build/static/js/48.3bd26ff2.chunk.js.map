{"version":3,"sources":["../node_modules/@material-ui/core/AvatarGroup/avatarGroupClasses.js","../node_modules/@material-ui/core/AvatarGroup/AvatarGroup.js","components/dashboard/chat/ChatContactSearch.js","components/dashboard/chat/ChatMessage.js","components/dashboard/chat/ChatMessageAdd.js","components/dashboard/chat/ChatMessages.js","components/dashboard/chat/ChatThreadItem.js","components/dashboard/chat/ChatThreadList.js","components/dashboard/chat/ChatSidebar.js","components/dashboard/chat/ChatThreadComposer.js","icons/Camera.js","icons/Phone.js","components/dashboard/chat/ChatThreadToolbar.js","components/dashboard/chat/ChatThread.js","pages/dashboard/Chat.js","icons/DotsHorizontal.js","icons/PencilAlt.js","icons/Trash.js","icons/Archive.js","icons/Ban.js"],"names":["getAvatarGroupUtilityClass","slot","generateUtilityClass","avatarGroupClasses","generateUtilityClasses","SPACINGS","small","medium","AvatarGroupRoot","experimentalStyled","name","overridesResolver","props","styles","deepmerge","avatar","root","theme","border","palette","background","default","boxSizing","marginLeft","AvatarGroupAvatar","Avatar","AvatarGroup","React","inProps","ref","useThemeProps","childrenProp","children","className","max","spacing","variant","other","_objectWithoutPropertiesLoose","clampedMax","styleProps","_extends","classes","composeClasses","useUtilityClasses","toArray","filter","child","extraAvatars","length","undefined","clsx","style","slice","reverse","map","ChatContactSearch","forwardRef","isFocused","onChange","onClickAway","onFocus","onSelect","query","results","displayResults","ClickAwayListener","Box","sx","px","alignItems","backgroundColor","borderRadius","display","height","Search","color","fontSize","flexGrow","ml","Input","fullWidth","disableUnderline","placeholder","value","mt","Typography","List","result","ListItem","button","onClick","handleSelect","ListItemAvatar","src","width","ListItemText","primary","primaryTypographyProps","noWrap","id","defaultProps","ChatMessage","body","contentType","createdAt","senderAvatar","senderName","senderType","useState","expandMedia","setExpandMedia","mb","flexDirection","maxWidth","mr","boxShadow","py","Link","component","RouterLink","to","cursor","alt","justifyContent","formatDistanceToNowStrict","large","onClose","ChatMessageAdd","disabled","onSend","fileInputRef","useRef","user","useAuth","setBody","handleAttach","current","click","handleSend","flexShrink","Hidden","smDown","TextField","event","target","onKeyUp","keyCode","size","Tooltip","title","IconButton","Divider","orientation","edge","hidden","type","ChatMessages","messages","participants","rootRef","scrollToBottom","_container","scrollTop","scrollHeight","useEffect","Scrollbar","options","suppressScrollX","p","message","participant","find","_participant","senderId","ChatThreadItem","active","thread","details","currentUserId","otherParticipants","displayNames","reduce","names","join","displayText","lastMessage","sender","getDetails","main","sm","xs","secondary","secondaryTypographyProps","unreadCount","Chip","label","minWidth","ChatThreadList","useSelector","state","chat","threads","activeThreadId","navigate","useNavigate","allIds","threadId","threadKey","byId","username","ChatSidebar","isSearchFocused","setIsSearchFocused","searchQuery","setSearchQuery","searchResults","setSearchResults","handleSearchChange","a","axios","get","params","response","data","console","error","borderRight","borderColor","Cog","PencilAlt","ChatThreadComposer","onAddRecipient","onRemoveRecipient","recipients","containerRef","setQuery","filteredSearchResults","recipientIds","acc","recipient","includes","getFilteredSearchResults","onDelete","recipientId","onBlur","Popper","anchorEl","open","placement","Paper","textAlign","gutterBottom","pt","contact","Camera","createSvgIcon","xmlns","viewBox","fill","fillRule","d","clipRule","Phone","ParticipantAvatar","ChatThreadToolbar","moreRef","openMenu","setOpenMenu","borderBottom","divider","minHeight","DotsHorizontal","Menu","keepMounted","elevation","MenuItem","ListItemIcon","Ban","Trash","Archive","Bell","ChatThread","dispatch","useDispatch","useParams","unreadMessages","threadSelector","getParticipants","getThread","resetActiveThread","markThreadAsSeen","mode","handleSendMessage","addRecipient","removeRecipient","overflow","Chat","gtm","push","getThreads"],"mappings":"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","file":"static/js/48.3bd26ff2.chunk.js","sourcesContent":["import { generateUtilityClass, generateUtilityClasses } from '@material-ui/unstyled';\nexport function getAvatarGroupUtilityClass(slot) {\n  return generateUtilityClass('MuiAvatarGroup', slot);\n}\nconst avatarGroupClasses = generateUtilityClasses('MuiAvatarGroup', ['root', 'avatar']);\nexport default avatarGroupClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { isFragment } from 'react-is';\nimport clsx from 'clsx';\nimport { chainPropTypes, deepmerge } from '@material-ui/utils';\nimport { unstable_composeClasses as composeClasses } from '@material-ui/unstyled';\nimport experimentalStyled from '../styles/experimentalStyled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Avatar from '../Avatar';\nimport avatarGroupClasses, { getAvatarGroupUtilityClass } from './avatarGroupClasses';\nconst SPACINGS = {\n  small: -16,\n  medium: null\n};\n\nconst overridesResolver = (props, styles) => {\n  return deepmerge({\n    [`& .${avatarGroupClasses.avatar}`]: styles.avatar\n  }, styles.root || {});\n};\n\nconst useUtilityClasses = styleProps => {\n  const {\n    classes\n  } = styleProps;\n  const slots = {\n    root: ['root'],\n    avatar: ['avatar']\n  };\n  return composeClasses(slots, getAvatarGroupUtilityClass, classes);\n};\n\nconst AvatarGroupRoot = experimentalStyled('div', {}, {\n  name: 'MuiAvatarGroup',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme\n}) => ({\n  [`& .MuiAvatar-root`]: {\n    border: `2px solid ${theme.palette.background.default}`,\n    boxSizing: 'content-box',\n    marginLeft: -8,\n    '&:last-child': {\n      marginLeft: 0\n    }\n  },\n\n  /* Styles applied to the root element. */\n  display: 'flex',\n  flexDirection: 'row-reverse'\n}));\nconst AvatarGroupAvatar = experimentalStyled(Avatar, {}, {\n  name: 'MuiAvatarGroup',\n  slot: 'Avatar'\n})(({\n  theme\n}) => ({\n  border: `2px solid ${theme.palette.background.default}`,\n  boxSizing: 'content-box',\n  marginLeft: -8,\n  '&:last-child': {\n    marginLeft: 0\n  }\n}));\nconst AvatarGroup = /*#__PURE__*/React.forwardRef(function AvatarGroup(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAvatarGroup'\n  });\n\n  const {\n    children: childrenProp,\n    className,\n    max = 5,\n    spacing = 'medium',\n    variant = 'circular'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, [\"children\", \"className\", \"max\", \"spacing\", \"variant\"]);\n\n  const clampedMax = max < 2 ? 2 : max;\n\n  const styleProps = _extends({}, props, {\n    max,\n    spacing,\n    variant\n  });\n\n  const classes = useUtilityClasses(styleProps);\n  const children = React.Children.toArray(childrenProp).filter(child => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"Material-UI: The AvatarGroup component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    return /*#__PURE__*/React.isValidElement(child);\n  });\n  const extraAvatars = children.length > clampedMax ? children.length - clampedMax + 1 : 0;\n  const marginLeft = spacing && SPACINGS[spacing] !== undefined ? SPACINGS[spacing] : -spacing;\n  return /*#__PURE__*/React.createElement(AvatarGroupRoot, _extends({\n    styleProps: styleProps,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), extraAvatars ? /*#__PURE__*/React.createElement(AvatarGroupAvatar, {\n    styleProps: styleProps,\n    className: classes.avatar,\n    style: {\n      marginLeft\n    },\n    variant: variant\n  }, \"+\", extraAvatars) : null, children.slice(0, children.length - extraAvatars).reverse().map(child => {\n    return /*#__PURE__*/React.cloneElement(child, {\n      className: clsx(child.props.className, classes.avatar),\n      style: _extends({\n        marginLeft\n      }, child.props.style),\n      variant: child.props.variant || variant\n    });\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? AvatarGroup.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The avatars to stack.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Max avatars to show before +x.\n   * @default 5\n   */\n  max: chainPropTypes(PropTypes.number, props => {\n    if (props.max < 2) {\n      return new Error(['Material-UI: The prop `max` should be equal to 2 or above.', 'A value below is clamped to 2.'].join('\\n'));\n    }\n\n    return null;\n  }),\n\n  /**\n   * Spacing between avatars.\n   * @default 'medium'\n   */\n  spacing: PropTypes.oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.number]),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * The variant to use.\n   * @default 'circular'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['circular', 'rounded', 'square']), PropTypes.string])\n} : void 0;\nexport default AvatarGroup;","import { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Avatar,\n  Box,\n  ClickAwayListener,\n  Input,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Typography\n} from '@material-ui/core';\nimport SearchIcon from '../../../icons/Search';\n\nconst ChatContactSearch = forwardRef((props, ref) => {\n  const { isFocused, onChange, onClickAway, onFocus, onSelect, query, results, ...other } = props;\n\n  const handleSelect = (result) => {\n    if (onSelect) {\n      onSelect(result);\n    }\n  };\n\n  const displayResults = query && isFocused;\n\n  return (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <Box\n        ref={ref}\n        sx={{ px: 1 }}\n        {...other}\n      >\n        <Box\n          sx={{\n            alignItems: 'center',\n            backgroundColor: 'background.default',\n            borderRadius: 22,\n            display: 'flex',\n            height: 44,\n            px: 2\n          }}\n        >\n          <SearchIcon\n            color=\"action\"\n            fontSize=\"small\"\n          />\n          <Box\n            sx={{\n              flexGrow: 1,\n              ml: 2\n            }}\n          >\n            <Input\n              fullWidth\n              disableUnderline\n              onChange={onChange}\n              onFocus={onFocus}\n              placeholder=\"Search contacts\"\n              value={query}\n            />\n          </Box>\n        </Box>\n        {displayResults && (\n          <Box sx={{ mt: 2 }}>\n            <Typography\n              color=\"textSecondary\"\n              variant=\"subtitle2\"\n            >\n              Contacts\n            </Typography>\n            <List>\n              {results.map((result) => (\n                <ListItem\n                  button\n                  key={result.id}\n                  onClick={() => handleSelect(result)}\n                >\n                  <ListItemAvatar>\n                    <Avatar\n                      src={result.avatar}\n                      sx={{\n                        height: 32,\n                        width: 32\n                      }}\n                    />\n                  </ListItemAvatar>\n                  <ListItemText\n                    primary={result.name}\n                    primaryTypographyProps={{\n                      color: 'textPrimary',\n                      noWrap: true,\n                      variant: 'subtitle2'\n                    }}\n                  />\n                </ListItem>\n              ))}\n            </List>\n          </Box>\n        )}\n      </Box>\n    </ClickAwayListener>\n  );\n});\n\nChatContactSearch.propTypes = {\n  isFocused: PropTypes.bool,\n  onChange: PropTypes.func,\n  onClickAway: PropTypes.func,\n  onFocus: PropTypes.func,\n  onSelect: PropTypes.func,\n  query: PropTypes.string,\n  results: PropTypes.array\n};\n\nChatContactSearch.defaultProps = {\n  isFocused: false,\n  query: '',\n  results: []\n};\n\nexport default ChatContactSearch;\n","import { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { formatDistanceToNowStrict } from 'date-fns';\nimport { Lightbox } from 'react-modal-image';\nimport { Avatar, Box, Link, Typography } from '@material-ui/core';\n\nconst ChatMessage = (props) => {\n  const { body, contentType, createdAt, senderAvatar, senderName, senderType, ...other } = props;\n  const [expandMedia, setExpandMedia] = useState(false);\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        mb: 2\n      }}\n      {...other}\n    >\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: senderType === 'user'\n            ? 'row-reverse'\n            : 'row',\n          maxWidth: 500,\n          ml: senderType === 'user' ? 'auto' : 0\n        }}\n      >\n        <Avatar\n          src={senderAvatar}\n          sx={{\n            height: 32,\n            ml: senderType === 'user' ? 2 : 0,\n            mr: senderType === 'user' ? 0 : 2,\n            width: 32\n          }}\n        />\n        <div>\n          <Box\n            sx={{\n              backgroundColor: senderType === 'user'\n                ? 'primary.main'\n                : 'background.paper',\n              borderRadius: 1,\n              boxShadow: 1,\n              color: senderType === 'user'\n                ? 'primary.contrastText'\n                : 'text.primary',\n              px: 2,\n              py: 1\n            }}\n          >\n            <Link\n              color=\"inherit\"\n              component={RouterLink}\n              to=\"#\"\n              variant=\"subtitle2\"\n            >\n              {senderName}\n            </Link>\n            <Box sx={{ mt: 1 }}>\n              {contentType === 'image'\n                ? (\n                  <Box\n                    onClick={() => setExpandMedia(true)}\n                    sx={{\n                      mt: 2,\n                      '& img': {\n                        cursor: 'pointer',\n                        height: 'auto',\n                        maxWidth: '100%',\n                        width: 380\n                      }\n                    }}\n                  >\n                    <img\n                      alt=\"Attachment\"\n                      src={body}\n                    />\n                  </Box>\n                )\n                : (\n                  <Typography\n                    color=\"inherit\"\n                    variant=\"body1\"\n                  >\n                    {body}\n                  </Typography>\n                )}\n            </Box>\n          </Box>\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: senderType === 'user'\n                ? 'flex-end'\n                : 'flex-start',\n              mt: 1,\n              px: 2\n            }}\n          >\n            <Typography\n              color=\"textSecondary\"\n              noWrap\n              variant=\"caption\"\n            >\n              {formatDistanceToNowStrict(createdAt)}\n              {' '}\n              ago\n            </Typography>\n          </Box>\n        </div>\n      </Box>\n      {expandMedia && (\n        <Lightbox\n          large={body}\n          onClose={() => setExpandMedia(true)}\n        />\n      )}\n    </Box>\n  );\n};\n\nChatMessage.propTypes = {\n  body: PropTypes.string.isRequired,\n  contentType: PropTypes.string.isRequired,\n  createdAt: PropTypes.number.isRequired,\n  senderAvatar: PropTypes.string.isRequired,\n  senderName: PropTypes.string.isRequired,\n  senderType: PropTypes.oneOf(['contact', 'user'])\n};\n\nexport default ChatMessage;\n","import { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Avatar, Box, Divider, Hidden, IconButton, TextField, Tooltip } from '@material-ui/core';\nimport AddPhotoIcon from '@material-ui/icons/AddPhotoAlternate';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport SendIcon from '@material-ui/icons/Send';\nimport useAuth from '../../../hooks/useAuth';\n\nconst ChatMessageAdd = (props) => {\n  const { disabled, onSend, ...other } = props;\n  const fileInputRef = useRef(null);\n  const { user } = useAuth();\n  const [body, setBody] = useState('');\n\n  const handleAttach = () => {\n    fileInputRef.current.click();\n  };\n\n  const handleChange = (event) => {\n    setBody(event.target.value);\n  };\n\n  const handleSend = () => {\n    if (!body) {\n      return;\n    }\n\n    if (onSend) {\n      onSend(body);\n    }\n\n    setBody('');\n  };\n\n  const handleKeyUp = (event) => {\n    if (event.keyCode === 13) {\n      handleSend();\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        alignItems: 'center',\n        backgroundColor: 'background.paper',\n        display: 'flex',\n        flexShrink: 0,\n        px: 2,\n        py: 1\n      }}\n      {...other}\n    >\n      <Hidden smDown>\n        <Avatar\n          sx={{ mr: 2 }}\n          src={user.avatar}\n        />\n      </Hidden>\n      <TextField\n        disabled={disabled}\n        fullWidth\n        onChange={handleChange}\n        onKeyUp={handleKeyUp}\n        placeholder=\"Leave a message\"\n        value={body}\n        size=\"small\"\n        variant=\"outlined\"\n      />\n      <Tooltip title=\"Send\">\n        <span>\n          <IconButton\n            color=\"primary\"\n            disabled={!body || disabled}\n            onClick={handleSend}\n          >\n            <SendIcon fontSize=\"small\" />\n          </IconButton>\n        </span>\n      </Tooltip>\n      <Hidden smDown>\n        <Box sx={{ height: 24 }}>\n          <Divider orientation=\"vertical\" />\n        </Box>\n        <Tooltip title=\"Attach photo\">\n          <span>\n            <IconButton\n              disabled={disabled}\n              edge=\"end\"\n              onClick={handleAttach}\n            >\n              <AddPhotoIcon fontSize=\"small\" />\n            </IconButton>\n          </span>\n        </Tooltip>\n        <Tooltip title=\"Attach file\">\n          <span>\n            <IconButton\n              disabled={disabled}\n              edge=\"end\"\n              onClick={handleAttach}\n            >\n              <AttachFileIcon fontSize=\"small\" />\n            </IconButton>\n          </span>\n        </Tooltip>\n      </Hidden>\n      <input\n        hidden\n        ref={fileInputRef}\n        type=\"file\"\n      />\n    </Box>\n  );\n};\n\nChatMessageAdd.propTypes = {\n  disabled: PropTypes.bool,\n  onSend: PropTypes.func\n};\n\nChatMessageAdd.defaultProps = {\n  disabled: false\n};\n\nexport default ChatMessageAdd;\n","import { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { Box } from '@material-ui/core';\nimport useAuth from '../../../hooks/useAuth';\nimport Scrollbar from '../../Scrollbar';\nimport ChatMessage from './ChatMessage';\n\nconst ChatMessages = (props) => {\n  const { messages, participants, ...other } = props;\n  const rootRef = useRef(null);\n  const { user } = useAuth();\n\n  const scrollToBottom = () => {\n    // eslint-disable-next-line no-underscore-dangle\n    if (rootRef?.current?._container) {\n      // eslint-disable-next-line no-underscore-dangle\n      rootRef.current._container.scrollTop = rootRef.current._container.scrollHeight;\n    }\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, scrollToBottom]);\n\n  return (\n    <Scrollbar\n      options={{ suppressScrollX: true }}\n      ref={rootRef}\n      {...other}\n    >\n      <Box sx={{ p: 2 }}>\n        {messages.map((message) => {\n          const participant = participants\n            .find((_participant) => _participant.id === message.senderId);\n          let senderAvatar;\n          let senderName;\n          let senderType;\n\n          // Since chat mock db is not synced with external auth providers\n          // we set the user details from user auth state instead of thread participants\n          if (message.senderId === '5e86809283e28b96d2d38537') {\n            senderAvatar = user.avatar;\n            senderName = 'Me';\n            senderType = 'user';\n          } else {\n            senderAvatar = participant.avatar;\n            senderName = participant.name;\n            senderType = 'contact';\n          }\n\n          return (\n            <ChatMessage\n              body={message.body}\n              contentType={message.contentType}\n              createdAt={message.createdAt}\n              key={message.id}\n              senderAvatar={senderAvatar}\n              senderName={senderName}\n              senderType={senderType}\n            />\n          );\n        })}\n      </Box>\n    </Scrollbar>\n  );\n};\n\nChatMessages.propTypes = {\n  // @ts-ignore\n  messages: PropTypes.array,\n  participants: PropTypes.array\n};\n\nexport default ChatMessages;\n","import PropTypes from 'prop-types';\nimport {\n  Avatar,\n  AvatarGroup,\n  Box,\n  Chip,\n  Hidden,\n  ListItem,\n  ListItemAvatar,\n  ListItemText\n} from '@material-ui/core';\n\nconst getDetails = (thread, currentUserId) => {\n  const otherParticipants = thread.participants.filter((participant) => (participant.id\n    !== currentUserId));\n  const displayNames = otherParticipants\n    .reduce((names, participant) => [...names, participant.name], [])\n    .join(', ');\n  let displayText = '';\n  const lastMessage = thread.messages[thread.messages.length - 1];\n\n  if (lastMessage) {\n    const sender = lastMessage.senderId === currentUserId ? 'Me: ' : '';\n    const message = lastMessage.contentType === 'image'\n      ? 'Sent a photo'\n      : lastMessage.body;\n\n    displayText = `${sender}${message}`;\n  }\n\n  return {\n    otherParticipants,\n    displayNames,\n    displayText\n  };\n};\n\nconst ChatThreadItem = (props) => {\n  const { active, thread, onSelect, ...other } = props;\n\n  // We hardcode the current user ID because the mocked that is not in sync with the auth provider.\n  // When implementing this app with a real database, replace this ID with the ID from Auth Context.\n  const details = getDetails(thread, '5e86809283e28b96d2d38537');\n\n  return (\n    <ListItem\n      button\n      onClick={onSelect}\n      sx={{\n        backgroundColor: active && 'action.selected',\n        boxShadow: (theme) => active && `inset 4px 0px 0px ${theme.palette.primary.main}`\n      }}\n      {...other}\n    >\n      <ListItemAvatar\n        sx={{\n          display: 'flex',\n          justifyContent: {\n            sm: 'flex-start',\n            xs: 'center'\n          }\n        }}\n      >\n        <AvatarGroup\n          max={2}\n          sx={{\n            '& .MuiAvatar-root': details.otherParticipants.length > 1\n              ? {\n                height: 26,\n                width: 26,\n                '&:nth-of-type(2)': {\n                  mt: '10px'\n                }\n              }\n              : {\n                height: 36,\n                width: 36\n              }\n          }}\n        >\n          {details.otherParticipants.map((participant) => (\n            <Avatar\n              key={participant.id}\n              src={participant.avatar}\n            />\n          ))}\n        </AvatarGroup>\n      </ListItemAvatar>\n      <Hidden smDown>\n        <ListItemText\n          primary={details.displayNames}\n          primaryTypographyProps={{\n            color: 'textPrimary',\n            noWrap: true,\n            variant: 'subtitle2'\n          }}\n          secondary={details.displayText}\n          secondaryTypographyProps={{\n            color: 'textSecondary',\n            noWrap: true,\n            variant: 'body2'\n          }}\n        />\n        <Box\n          sx={{\n            alignItems: 'flex-end',\n            display: 'flex',\n            flexDirection: 'column',\n            ml: 2\n          }}\n        >\n          {thread.unreadCount > 0 && (\n            <Chip\n              color=\"primary\"\n              label={thread.unreadCount}\n              size=\"small\"\n              sx={{\n                height: 18,\n                mt: '2px',\n                minWidth: 18,\n                p: '2px'\n              }}\n            />\n          )}\n        </Box>\n      </Hidden>\n    </ListItem>\n  );\n};\n\nChatThreadItem.propTypes = {\n  active: PropTypes.bool,\n  onSelect: PropTypes.func,\n  // @ts-ignore\n  thread: PropTypes.object.isRequired\n};\n\nChatThreadItem.defaultProps = {\n  active: false\n};\n\nexport default ChatThreadItem;\n","import { useNavigate } from 'react-router-dom';\nimport { List } from '@material-ui/core';\nimport { useSelector } from '../../../store';\nimport ChatThreadItem from './ChatThreadItem';\n\nconst ChatThreadList = (props) => {\n  const { threads, activeThreadId } = useSelector((state) => state.chat);\n  const navigate = useNavigate();\n\n  const handleSelect = (threadId) => {\n    const thread = threads.byId[threadId];\n    let threadKey;\n\n    if (thread.type === 'GROUP') {\n      threadKey = thread.id;\n    } else {\n      // We hardcode the current user ID because the mocked that is not in sync\n      // with the auth provider.\n      // When implementing this app with a real database, replace this\n      // ID with the ID from Auth Context.\n      const otherParticipant = thread.participants.find((participant) => (participant.id\n        !== '5e86809283e28b96d2d38537'));\n\n      threadKey = otherParticipant.username;\n    }\n\n    navigate(`/dashboard/chat/${threadKey}`);\n  };\n\n  return (\n    <List {...props}>\n      {threads.allIds.map((threadId) => (\n        <ChatThreadItem\n          active={activeThreadId === threadId}\n          key={threadId}\n          onSelect={() => handleSelect(threadId)}\n          thread={threads.byId[threadId]}\n        />\n      ))}\n    </List>\n  );\n};\n\nexport default ChatThreadList;\n","import { useState } from 'react';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport { Box, Hidden, IconButton, Typography } from '@material-ui/core';\nimport CogIcon from '../../../icons/Cog';\nimport PencilAltIcon from '../../../icons/PencilAlt';\nimport axios from '../../../lib/axios';\nimport Scrollbar from '../../Scrollbar';\nimport ChatContactSearch from './ChatContactSearch';\nimport ChatThreadList from './ChatThreadList';\n\nconst ChatSidebar = () => {\n  const navigate = useNavigate();\n  const [isSearchFocused, setIsSearchFocused] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleSearchClickAway = () => {\n    setIsSearchFocused(false);\n    setSearchQuery('');\n  };\n\n  const handleSearchChange = async (event) => {\n    try {\n      const { value } = event.target;\n\n      setSearchQuery(value);\n\n      if (value) {\n        const response = await axios.get('/api/chat/search', {\n          params: {\n            query: value\n          }\n        });\n\n        setSearchResults(response.data.results);\n      } else {\n        setSearchResults([]);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleSearchFocus = () => {\n    setIsSearchFocused(true);\n  };\n\n  const handleSearchSelect = (result) => {\n    setIsSearchFocused(false);\n    setSearchQuery('');\n    navigate(`/dashboard/chat/${result.username}`);\n  };\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        backgroundColor: 'background.paper',\n        borderRight: 1,\n        borderColor: 'divider',\n        flexDirection: 'column',\n        maxWidth: '100%',\n        width: 300\n      }}\n    >\n      <Box\n        sx={{\n          alignItems: 'center',\n          display: 'flex',\n          height: 64,\n          px: 2\n        }}\n      >\n        <Hidden smDown>\n          <Typography\n            color=\"textPrimary\"\n            variant=\"h5\"\n          >\n            Chats\n          </Typography>\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton>\n            <CogIcon fontSize=\"small\" />\n          </IconButton>\n        </Hidden>\n        <IconButton\n          component={RouterLink}\n          to=\"/dashboard/chat/new\"\n        >\n          <PencilAltIcon fontSize=\"small\" />\n        </IconButton>\n      </Box>\n      <Hidden smDown>\n        <ChatContactSearch\n          isFocused={isSearchFocused}\n          onChange={handleSearchChange}\n          onClickAway={handleSearchClickAway}\n          onFocus={handleSearchFocus}\n          onSelect={handleSearchSelect}\n          query={searchQuery}\n          results={searchResults}\n        />\n      </Hidden>\n      <Scrollbar options={{ suppressScrollX: true }}>\n        <Box sx={{ display: isSearchFocused ? 'none' : undefined }}>\n          <ChatThreadList />\n        </Box>\n      </Scrollbar>\n    </Box>\n  );\n};\n\nexport default ChatSidebar;\n","import { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Avatar,\n  Box,\n  Chip,\n  ClickAwayListener,\n  Input,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Paper,\n  Popper,\n  Typography\n} from '@material-ui/core';\nimport axios from '../../../lib/axios';\n\nconst getFilteredSearchResults = (results, recipients) => {\n  const recipientIds = recipients.reduce((acc, recipient) => [\n    ...acc,\n    recipient.id\n  ], []);\n\n  return results.filter((result) => !recipientIds.includes(result.id));\n};\n\nconst ChatThreadComposer = (props) => {\n  const { onAddRecipient, onRemoveRecipient, recipients, ...other } = props;\n  const containerRef = useRef(null);\n  const [query, setQuery] = useState('');\n  const [isSearchFocused, setIsSearchFocused] = useState(true);\n  const [searchResults, setSearchResults] = useState([]);\n\n  const filteredSearchResults = getFilteredSearchResults(searchResults, recipients);\n  const displayResults = query && isSearchFocused;\n\n  const handleSearchChange = async (event) => {\n    try {\n      const { value } = event.target;\n\n      setQuery(value);\n\n      if (value) {\n        const response = await axios.get('/api/chat/search', {\n          params: {\n            query: value\n          }\n        });\n\n        setSearchResults(response.data.results);\n      } else {\n        setSearchResults([]);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleSearchBlur = () => {\n    if (!displayResults) {\n      setIsSearchFocused(false);\n    }\n  };\n\n  const handleSearchFocus = () => {\n    setIsSearchFocused(true);\n  };\n\n  const handleSearchResultsClickAway = () => {\n    setIsSearchFocused(false);\n  };\n\n  const handleAddRecipient = (contact) => {\n    setQuery('');\n\n    if (onAddRecipient) {\n      onAddRecipient(contact);\n    }\n  };\n\n  const handleRemoveRecipient = (recipientId) => {\n    if (onRemoveRecipient) {\n      onRemoveRecipient(recipientId);\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        alignItems: 'center',\n        display: 'flex',\n        p: 2\n      }}\n      {...other}\n    >\n      <Typography\n        variant=\"body1\"\n        color=\"textSecondary\"\n      >\n        To:\n      </Typography>\n      <Box\n        ref={containerRef}\n        sx={{\n          ml: 1,\n          '& .MuiInputBase-root': {\n            backgroundColor: 'background.paper',\n            borderRadius: 16,\n            height: 32,\n            maxWidth: recipients.length > 0 ? 120 : 'auto',\n            px: 2\n          }\n        }}\n      >\n        {recipients.map((recipient) => (\n          <Box\n            component=\"span\"\n            key={recipient.id}\n            sx={{ mr: 2 }}\n          >\n            <Chip\n              color=\"primary\"\n              label={recipient.name}\n              onDelete={() => handleRemoveRecipient(recipient.id)}\n              size=\"small\"\n            />\n          </Box>\n        ))}\n        <Input\n          disableUnderline\n          onBlur={handleSearchBlur}\n          onChange={handleSearchChange}\n          onFocus={handleSearchFocus}\n          placeholder={recipients.length === 0\n            ? 'Search contacts'\n            : ''}\n          value={query}\n        />\n      </Box>\n      {displayResults && (\n        <ClickAwayListener onClickAway={handleSearchResultsClickAway}>\n          <Popper\n            anchorEl={containerRef.current}\n            open={isSearchFocused}\n            placement=\"bottom-start\"\n          >\n            <Paper\n              sx={{\n                mt: 1,\n                maxWidth: '100%',\n                width: 320\n              }}\n            >\n              {filteredSearchResults.length === 0\n                ? (\n                  <Box\n                    sx={{\n                      p: 2,\n                      textAlign: 'center'\n                    }}\n                  >\n                    <Typography\n                      color=\"textPrimary\"\n                      gutterBottom\n                      variant=\"h6\"\n                    >\n                      Nothing Found\n                    </Typography>\n                    <Typography\n                      color=\"textSecondary\"\n                      variant=\"body2\"\n                    >\n                      We couldn&apos;t find any matches\n                      for &quot;\n                      {query}\n                      &quot;. Try checking for typos or using\n                      complete words.\n                    </Typography>\n                  </Box>\n                )\n                : (\n                  <>\n                    <Box\n                      sx={{\n                        px: 2,\n                        pt: 2\n                      }}\n                    >\n                      <Typography\n                        color=\"textSecondary\"\n                        variant=\"subtitle2\"\n                      >\n                        Contacts\n                      </Typography>\n                    </Box>\n                    <List>\n                      {filteredSearchResults.map((result) => (\n                        <ListItem\n                          button\n                          key={result.id}\n                          onClick={() => handleAddRecipient(result)}\n                        >\n                          <ListItemAvatar>\n                            <Avatar src={result.avatar} />\n                          </ListItemAvatar>\n                          <ListItemText\n                            primary={result.name}\n                            primaryTypographyProps={{\n                              color: 'textPrimary',\n                              noWrap: true,\n                              variant: 'subtitle2'\n                            }}\n                          />\n                        </ListItem>\n                      ))}\n                    </List>\n                  </>\n                )}\n            </Paper>\n          </Popper>\n        </ClickAwayListener>\n      )}\n    </Box>\n  );\n};\n\nChatThreadComposer.propTypes = {\n  onAddRecipient: PropTypes.func,\n  onRemoveRecipient: PropTypes.func,\n  recipients: PropTypes.array\n};\n\nChatThreadComposer.defaultProps = {\n  recipients: []\n};\n\nexport default ChatThreadComposer;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Camera = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Camera'\n);\n\nexport default Camera;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Phone = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path d=\"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z\" />\n  </svg>, 'Phone'\n);\n\nexport default Phone;\n","import { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Avatar,\n  AvatarGroup,\n  Box,\n  IconButton,\n  ListItemIcon,\n  ListItemText,\n  Menu,\n  MenuItem,\n  Tooltip,\n  Typography\n} from '@material-ui/core';\nimport { experimentalStyled } from '@material-ui/core/styles';\nimport ArchiveIcon from '../../../icons/Archive';\nimport BellIcon from '../../../icons/Bell';\nimport BanIcon from '../../../icons/Ban';\nimport CameraIcon from '../../../icons/Camera';\nimport PhoneIcon from '../../../icons/Phone';\nimport DotsHorizontalIcon from '../../../icons/DotsHorizontal';\nimport TrashIcon from '../../../icons/Trash';\n\nconst ParticipantAvatar = experimentalStyled((props) => (\n  <Avatar {...props} />\n))(({ styleProps }) => {\n  if (styleProps.small) {\n    return {\n      height: 30,\n      width: 30,\n      '&:nth-of-type(2)': {\n        mt: '10px'\n      }\n    };\n  }\n  return {};\n});\n\nconst ChatThreadToolbar = (props) => {\n  const { participants, ...other } = props;\n  const moreRef = useRef(null);\n  const [openMenu, setOpenMenu] = useState(false);\n\n  // We hardcode the current user ID because the mocked that is not in sync with the auth provider.\n  // When implementing this app with a real database, replace this ID with the ID from Auth Context.\n  const otherParticipants = participants.filter((participant) => (participant.id\n    !== '5e86809283e28b96d2d38537'));\n  const displayNames = otherParticipants.reduce((names, participant) => [\n    ...names,\n    participant.name\n  ], []).join(', ');\n\n  const handleMenuOpen = () => {\n    setOpenMenu(true);\n  };\n\n  const handleMenuClose = () => {\n    setOpenMenu(false);\n  };\n\n  return (\n    <Box\n      sx={{\n        alignItems: 'center',\n        backgroundColor: 'background.paper',\n        borderBottom: (theme) => `1px solid ${theme.palette.divider}`,\n        display: 'flex',\n        flexShrink: 0,\n        minHeight: 64,\n        px: 2,\n        py: 1\n      }}\n      {...other}\n    >\n      <Box\n        sx={{\n          alignItems: 'center',\n          display: 'flex',\n          '& .MuiAvatar-root': otherParticipants.length > 1 && {\n            height: 30,\n            width: 30,\n            '&:nth-of-type(2)': {\n              mt: '10px'\n            }\n          }\n        }}\n      >\n        <AvatarGroup max={2}>\n          {otherParticipants.map((participant) => (\n            <ParticipantAvatar\n              key={participant.id}\n              src={participant.avatar}\n              styleProps={{ small: otherParticipants.length > 1 }}\n            />\n          ))}\n        </AvatarGroup>\n        <Typography\n          color=\"textPrimary\"\n          sx={{ ml: 2 }}\n          variant=\"subtitle2\"\n        >\n          {displayNames}\n        </Typography>\n      </Box>\n      <Box sx={{ flexGrow: 1 }} />\n      <IconButton>\n        <PhoneIcon fontSize=\"small\" />\n      </IconButton>\n      <IconButton>\n        <CameraIcon fontSize=\"small\" />\n      </IconButton>\n      <Tooltip title=\"More options\">\n        <IconButton\n          onClick={handleMenuOpen}\n          ref={moreRef}\n        >\n          <DotsHorizontalIcon fontSize=\"small\" />\n        </IconButton>\n      </Tooltip>\n      <Menu\n        anchorEl={moreRef.current}\n        keepMounted\n        elevation={1}\n        onClose={handleMenuClose}\n        open={openMenu}\n      >\n        <MenuItem>\n          <ListItemIcon>\n            <BanIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Block contact\" />\n        </MenuItem>\n        <MenuItem>\n          <ListItemIcon>\n            <TrashIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Delete thread\" />\n        </MenuItem>\n        <MenuItem>\n          <ListItemIcon>\n            <ArchiveIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Archive thread\" />\n        </MenuItem>\n        <MenuItem>\n          <ListItemIcon>\n            <BellIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Mute notifications\" />\n        </MenuItem>\n      </Menu>\n    </Box>\n  );\n};\n\nChatThreadToolbar.propTypes = {\n  participants: PropTypes.array\n};\n\nChatThreadToolbar.defaultProps = {\n  participants: []\n};\n\nexport default ChatThreadToolbar;\n","import { useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Box, Divider } from '@material-ui/core';\nimport {\n  addRecipient,\n  getParticipants,\n  getThread,\n  markThreadAsSeen,\n  removeRecipient,\n  resetActiveThread\n} from '../../../slices/chat';\nimport { useDispatch, useSelector } from '../../../store';\nimport ChatMessageAdd from './ChatMessageAdd';\nimport ChatMessages from './ChatMessages';\nimport ChatThreadComposer from './ChatThreadComposer';\nimport ChatThreadToolbar from './ChatThreadToolbar';\n\nconst threadSelector = (state) => {\n  const { threads, activeThreadId } = state.chat;\n  const thread = threads.byId[activeThreadId];\n\n  if (thread) {\n    return thread;\n  }\n\n  return {\n    id: null,\n    messages: [],\n    participants: [],\n    unreadMessages: 0\n  };\n};\n\nconst ChatThread = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { threadKey } = useParams();\n  const { activeThreadId, participants, recipients } = useSelector((state) => state.chat);\n  const thread = useSelector((state) => threadSelector(state));\n\n  const getDetails = async () => {\n    dispatch(getParticipants(threadKey));\n\n    try {\n      await dispatch(getThread(threadKey));\n    } catch (err) {\n      // If thread key is not a valid key (thread id or username)\n      // the server throws an error, this means that the user tried a shady route\n      // and we redirect him on the compose route\n      console.error(err);\n      navigate('/dashboard/chat/new');\n    }\n  };\n\n  useEffect(() => {\n    // If path contains a thread key we do the following:\n    // 1) Load the thread participants based on the key\n    // 2) Try to find a related thread based on the key, it might not exist if it is a new tread\n    if (threadKey) {\n      getDetails();\n    } else if (activeThreadId) {\n      // If no thread key specified, but an active thread id exists in the\n      // store, reset that key. This means that the user navigated from details mode to compose\n      dispatch(resetActiveThread());\n    }\n  }, [threadKey]);\n\n  useEffect(() => {\n    if (activeThreadId) {\n      // Maybe we should also check if active thread\n      // has unread messages before triggering this\n      dispatch(markThreadAsSeen(activeThreadId));\n    }\n  }, [activeThreadId]);\n\n  // In our case there two possible routes\n  // one that contains chat/new and one with a chat/:threadKey\n  // if threadKey does not exist, it means that the chat is in compose mode\n  const mode = threadKey ? 'DETAIL' : 'COMPOSE';\n\n  const handleAddRecipient = (recipient) => {\n    dispatch(addRecipient(recipient));\n  };\n\n  const handleRemoveRecipient = (recipientId) => {\n    dispatch(removeRecipient(recipientId));\n  };\n\n  const handleSendMessage = async () => {\n    try {\n      // Handle send message\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        backgroundColor: 'background.default',\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1\n      }}\n    >\n      {mode === 'DETAIL' && (\n        <ChatThreadToolbar participants={participants} />\n      )}\n      {mode === 'COMPOSE' && (\n        <ChatThreadComposer\n          onAddRecipient={handleAddRecipient}\n          onRemoveRecipient={handleRemoveRecipient}\n          recipients={recipients}\n        />\n      )}\n      <Box\n        sx={{\n          flexGrow: 1,\n          overflow: 'auto'\n        }}\n      >\n        <ChatMessages\n          messages={thread.messages}\n          participants={thread.participants}\n        />\n      </Box>\n      <Divider />\n      <ChatMessageAdd\n        disabled={false}\n        onSend={handleSendMessage}\n      />\n    </Box>\n  );\n};\n\nexport default ChatThread;\n","import { useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Box } from '@material-ui/core';\nimport { ChatSidebar, ChatThread } from '../../components/dashboard/chat';\nimport gtm from '../../lib/gtm';\nimport { getThreads } from '../../slices/chat';\nimport { useDispatch } from '../../store';\n\nconst Chat = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    gtm.push({ event: 'page_view' });\n  }, []);\n\n  useEffect(() => {\n    dispatch(getThreads());\n  }, []);\n\n  return (\n    <>\n      <Helmet>\n        <title>Dashboard: Chat | Material Kit Pro</title>\n      </Helmet>\n      <Box\n        sx={{\n          backgroundColor: 'background.default',\n          display: 'flex',\n          height: '100%'\n        }}\n      >\n        <ChatSidebar />\n        <ChatThread />\n      </Box>\n    </>\n  );\n};\n\nexport default Chat;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst DotsHorizontal = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path d=\"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z\" />\n  </svg>, 'DotsHorizontal'\n);\n\nexport default DotsHorizontal;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst PencilAlt = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path d=\"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z\" />\n    <path\n      fillRule=\"evenodd\"\n      d=\"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'PencilAlt'\n);\n\nexport default PencilAlt;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Trash = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Trash'\n);\n\nexport default Trash;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Archive = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path d=\"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z\" />\n    <path\n      fillRule=\"evenodd\"\n      d=\"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Archive'\n);\n\nexport default Archive;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Ban = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Ban'\n);\n\nexport default Ban;\n"],"sourceRoot":""}